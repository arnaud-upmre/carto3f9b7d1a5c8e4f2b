<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>Simulateur Flipper - Prototype adapté</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
body{
  font-family:Inter,system-ui;
  margin:0;
  background:#0b1220;
  color:#e6eef6;
}
#zone{
  position:relative;
  width:100vw;
  height:100vh;
  overflow:hidden;
}
#schema{
  width:100%;
  height:100%;
  object-fit:contain;
}

/* Hotspots */
.zone-clic{
  position:absolute;
  width:26px;
  height:26px;
  border-radius:50%;
  border:2px solid #ef7a1a;
  background:rgba(239,122,26,0.35);
  cursor:pointer;
}
.zone-clic:hover{
  background:#ef7a1a;
}

/* Effets sur schéma */
.eclairage-fil{
  filter: drop-shadow(0 0 8px #ffd166);
}
.indication{
  position:absolute;
  padding:6px 10px;
  background:#000000bb;
  border:1px solid #ef7a1a;
  border-radius:5px;
  font-size:14px;
  pointer-events:none;
}
</style>
</head>

<body>

<div id="zone">
  <img id="schema" src="schema.png">

  <!-- Hotspots exemple (à ajuster sur TON schéma) -->
  <!-- BP START -->
  <div class="zone-clic" style="top:20%; left:20%;" data-id="BP_START"></div>

  <!-- Bobine relais -->
  <div class="zone-clic" style="top:20%; left:50%;" data-id="BOBINE_K1"></div>

  <!-- Lampe -->
  <div class="zone-clic" style="top:20%; left:80%;" data-id="LAMPE1"></div>
</div>

<script>
// === ÉTAT DU SYSTÈME ===

const etat = {
  BP_START:false,
  BOBINE_K1:false,
  LAMPE1:false
};

// === LOGIQUE ÉLECTRIQUE ===
// (ici simple: BP active bobine, bobine ferme contact, lampe ON)

function propager(){
  // bobine colle si bouton appuyé
  etat.BOBINE_K1 = etat.BP_START;

  // lampe si bobine collée
  etat.LAMPE1 = etat.BOBINE_K1;

  afficher();
}

// === AFFICHAGE ===
// On peut ajouter un overlay ou filtrer l’image du schéma plus tard

function afficher(){
  document.querySelectorAll(".zone-clic").forEach(el=>{
    const id = el.dataset.id;
    const actif = etat[id];

    if(actif){
      el.style.background="rgba(255,200,50,0.9)";
      el.style.borderColor="#ffd166";
    } else {
      el.style.background="rgba(239,122,26,0.35)";
      el.style.borderColor="#ef7a1a";
    }
  });
}

// === INTERACTION ===

document.querySelectorAll(".zone-clic").forEach(el=>{
  el.addEventListener("click", ()=>{
    const id = el.dataset.id;

    // On ne toggle que les entrées logiques (boutons)
    if(id==="BP_START"){
      etat[id] = !etat[id];
    }

    propager();
  });
});

// Init
afficher();
</script>

</body>
</html>

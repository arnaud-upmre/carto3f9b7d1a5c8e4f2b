<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <meta name="robots" content="noindex, nofollow, noarchive, nosnippet, noimageindex" />
    <meta name="googlebot" content="noindex, nofollow, noarchive, nosnippet, noimageindex" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <title>ALICE â€” Application de Localisation des Installations de Conduite Ã‰lectrique</title>
    <link
      href="https://unpkg.com/maplibre-gl@5.1.0/dist/maplibre-gl.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div id="map"></div>
    <div class="controle-recherche" id="controle-recherche">
      <label class="recherche-champ-wrap" for="champ-recherche">
        <img src="./alice.webp" alt="Logo ALICE" class="recherche-logo" onerror="this.style.display='none';" />
        <input
          id="champ-recherche"
          class="recherche-champ"
          type="search"
          autocomplete="off"
          placeholder="Rechercher un poste, appareil, acces..."
          aria-label="Rechercher un poste, un appareil ou un acces"
        />
      </label>
      <ul class="recherche-resultats" id="recherche-resultats" aria-label="Resultats de recherche"></ul>
    </div>
    <div class="fenetre-accueil" id="fenetre-accueil" role="dialog" aria-modal="true" aria-label="Message de bienvenue">
      <div class="fenetre-accueil-carte">
        <button
          class="fenetre-accueil-fermer"
          id="fenetre-accueil-fermer"
          type="button"
          aria-label="Fermer le message de bienvenue"
        >
          Ã—
        </button>
        <p class="fenetre-accueil-texte">
          Bienvenue Ã  <strong>ALICE</strong>,<br />
          <strong>A</strong>pplication de <strong>L</strong>ocalisation des <strong>I</strong>nstallations de <strong>C</strong>onduite <strong>E</strong>lectrique.
        </p>
      </div>
    </div>
    <div class="info-vitesse-ligne" id="info-vitesse-ligne" aria-live="polite" aria-hidden="true">
      âš ï¸ Vitesse affichÃ©e Ã  titre indicatif. Se rÃ©fÃ©rer aux documents rÃ©glementaires internes pour les vitesses de ligne applicables.
    </div>

    <div class="controle-filtres" id="controle-filtres">
      <button
        class="bouton-filtres bouton-itineraire"
        id="bouton-itineraire"
        type="button"
        aria-label="Comparer deux postes"
        title="Comparer 2 postes"
      >
        <span class="icone-itineraire" aria-hidden="true">&lt;&gt;</span>
      </button>
      <a
        class="bouton-filtres bouton-tableau"
        id="bouton-tableau"
        href="./tableau.html"
        aria-label="Ouvrir le tableau blanc"
        title="Tableau blanc"
      >
        <svg class="icone-tableau" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M4 4h7v7H4V4zm9 0h7v7h-7V4zM4 13h7v7H4v-7zm9 0h7v7h-7v-7z" />
        </svg>
      </a>
      <button
        class="bouton-filtres"
        id="bouton-filtres"
        type="button"
        aria-label="Afficher les filtres"
        aria-expanded="false"
      >
        <svg class="icone-burger" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M4 6h16v2H4V6zm0 5h16v2H4v-2zm0 5h16v2H4v-2z" />
        </svg>
      </button>

      <form class="menu-filtres" aria-label="Filtres de couches">
        <label class="option-filtre">
          <input type="checkbox" name="filtre-appareils" />
          <span>Appareils <span class="filtre-compteur" id="compteur-appareils">(0)</span></span>
        </label>
        <label class="option-filtre">
          <input type="checkbox" name="filtre-acces" />
          <span>Acces voiture <span class="filtre-compteur" id="compteur-acces">(0)</span></span>
        </label>
        <label class="option-filtre">
          <input type="checkbox" name="filtre-postes" />
          <span>Postes <span class="filtre-compteur" id="compteur-postes">(0)</span></span>
        </label>
        <label class="option-filtre">
          <input type="checkbox" name="filtre-lignes" />
          <span>Ligne</span>
        </label>
        <label class="option-filtre">
          <input type="checkbox" name="filtre-vitesse-ligne" />
          <span>Vitesse de ligne</span>
        </label>
      </form>
    </div>

    <div class="controle-fonds" id="controle-fonds">
      <button
        class="bouton-fonds"
        id="bouton-fonds"
        type="button"
        aria-label="Choisir le fond de carte"
        aria-expanded="false"
      >
        <svg class="icone-couches" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 2 1 7l11 5 11-5-11-5zm0 9L1 6v2l11 5 11-5V6l-11 5zm0 4L1 10v2l11 5 11-5v-2l-11 5z" />
        </svg>
      </button>

      <form class="menu-fonds" role="radiogroup" aria-label="Fond de carte">
        <label class="option-fond">
          <input type="radio" name="fond" value="planIgn" />
          <span>Plan IGN</span>
        </label>
        <label class="option-fond">
          <input type="radio" name="fond" value="osm" />
          <span>Plan Open</span>
        </label>
        <label class="option-fond">
          <input type="radio" name="fond" value="satelliteIgn" checked />
          <span>Satellite IGN</span>
        </label>
      </form>
    </div>

    <div class="panneau-mesure" id="panneau-mesure" aria-live="polite">
      <pre class="panneau-mesure-texte" id="panneau-mesure-texte"></pre>
    </div>
    <button class="bouton-sortie-mesure" id="bouton-sortie-mesure" type="button">
      âŒ Quitter le traÃ§age
    </button>
    <div class="menu-legende-carte" id="menu-legende-carte" aria-hidden="true">
      <div class="menu-legende-entete">
        <h2 class="menu-legende-titre">LÃ©gende</h2>
        <button class="menu-legende-fermer" id="bouton-fermer-legende" type="button" aria-label="Fermer la lÃ©gende">
          Ã—
        </button>
      </div>
      <div class="menu-legende-section">
        <p class="menu-legende-section-titre">Objets carte</p>
        <ul class="menu-legende-liste">
          <li class="menu-legende-item"><span class="menu-legende-pastille pastille-acces"></span>AccÃ¨s voiture</li>
          <li class="menu-legende-item"><span class="menu-legende-pastille pastille-poste"></span>Postes</li>
          <li class="menu-legende-item"><span class="menu-legende-pastille pastille-hp"></span>Hors patrimoine</li>
        </ul>
      </div>
      <div class="menu-legende-section">
        <p class="menu-legende-section-titre">Couleurs appareils</p>
        <ul class="menu-legende-liste">
          <li class="menu-legende-item"><span class="menu-legende-pastille pastille-app-du"></span>Dispositif d'urgence</li>
          <li class="menu-legende-item"><span class="menu-legende-pastille pastille-app-si"></span>Interrupteur</li>
          <li class="menu-legende-item"><span class="menu-legende-pastille pastille-app-tt"></span>Transformateur</li>
          <li class="menu-legende-item"><span class="menu-legende-pastille pastille-app-t"></span>Sectionneur</li>
          <li class="menu-legende-item"><span class="menu-legende-pastille pastille-app-alim"></span>Alimentation</li>
          <li class="menu-legende-item"><span class="menu-legende-pastille pastille-app-autre"></span>Autres</li>
        </ul>
      </div>
    </div>

    <div class="menu-contextuel-carte" id="menu-contextuel-carte" role="menu" aria-hidden="true">
      <button class="menu-contextuel-item menu-contextuel-coord" id="ctx-coord" type="button">ğŸ“ 0.00000, 0.00000</button>
      <button class="menu-contextuel-item" id="ctx-share" type="button">ğŸ”— Partager la position</button>
      <button class="menu-contextuel-item" id="ctx-itin" type="button">ğŸš— ItinÃ©raire vers ici</button>
      <div class="menu-contextuel-sousmenu" id="ctx-submenu-itin" aria-hidden="true">
        <button class="menu-contextuel-sousitem" id="ctx-gmaps" type="button">ğŸš™ Google Maps</button>
        <button class="menu-contextuel-sousitem" id="ctx-waze" type="button">ğŸš™ Waze</button>
        <button class="menu-contextuel-sousitem" id="ctx-apple" type="button">ğŸš™ Apple Plans</button>
      </div>
      <div class="menu-contextuel-separateur"></div>
      <button class="menu-contextuel-item" id="ctx-regle" type="button">ğŸ“ RÃ¨gle / TraÃ§age</button>
      <div class="menu-contextuel-separateur"></div>
      <button class="menu-contextuel-item" id="ctx-gmaps-marker" type="button">ğŸ“Œ Google Maps</button>
      <button class="menu-contextuel-item" id="ctx-street" type="button">ğŸŒ Street View</button>
      <button class="menu-contextuel-item" id="ctx-imajnet" type="button">ğŸ›£ï¸ Imajnet</button>
      <div class="menu-contextuel-separateur"></div>
      <button class="menu-contextuel-item" id="ctx-add-appareil" type="button">ğŸ“ Ajouter un appareil ici</button>
    </div>
    <div
      class="modal-itineraire"
      id="modal-itineraire"
      role="dialog"
      aria-modal="true"
      aria-label="Calculer un trajet"
      aria-hidden="true"
    >
      <div class="modal-itineraire-carte">
        <button class="modal-itineraire-fermer" id="modal-itineraire-fermer" type="button" aria-label="Fermer le calcul trajet">Ã—</button>
        <h2 class="modal-itineraire-titre">Calculer un trajet</h2>
        <p class="modal-itineraire-sous-titre">SÃ©lectionnez un dÃ©part et une arrivÃ©e</p>

        <div class="modal-itineraire-champs">
          <div class="modal-itineraire-champ">
            <label for="itineraire-depart">DÃ©part</label>
            <input id="itineraire-depart" type="search" autocomplete="off" placeholder="Rechercher un accÃ¨s" />
            <ul class="modal-itineraire-resultats" id="itineraire-depart-resultats" aria-label="RÃ©sultats dÃ©part"></ul>
          </div>
          <div class="modal-itineraire-champ">
            <label for="itineraire-arrivee">ArrivÃ©e</label>
            <input id="itineraire-arrivee" type="search" autocomplete="off" placeholder="Rechercher un accÃ¨s" />
            <ul class="modal-itineraire-resultats" id="itineraire-arrivee-resultats" aria-label="RÃ©sultats arrivÃ©e"></ul>
          </div>
        </div>

        <div class="modal-itineraire-etat" id="itineraire-etat">Choisissez un dÃ©part et une arrivÃ©e.</div>

        <section class="modal-itineraire-resume" id="itineraire-resume" aria-live="polite">
          <div class="modal-itineraire-resume-tete">
            <strong>RÃ©sumÃ© du trajet</strong>
            <span>Temps et distance estimÃ©s</span>
          </div>
          <div class="modal-itineraire-cartes">
            <div class="modal-itineraire-carte-kpi">
              <strong id="itineraire-distance">-</strong>
              <span>Distance</span>
            </div>
            <div class="modal-itineraire-carte-kpi">
              <strong id="itineraire-duree">-</strong>
              <span>Temps estimÃ©</span>
            </div>
          </div>
        </section>

        <div class="modal-itineraire-actions">
          <a class="popup-bouton-itineraire" id="itineraire-google" href="#" target="_blank" rel="noopener noreferrer">ğŸ—ºï¸ Google Maps</a>
          <a class="popup-bouton-itineraire" id="itineraire-apple" href="#" target="_blank" rel="noopener noreferrer">ğŸ Plans</a>
          <a class="popup-bouton-itineraire" id="itineraire-waze" href="#" target="_blank" rel="noopener noreferrer">ğŸš— Waze</a>
        </div>

        <button class="modal-itineraire-toggle-carte" id="itineraire-toggle-carte" type="button" aria-expanded="false">
          Afficher la carte
        </button>
        <div class="modal-itineraire-apercu" id="itineraire-apercu" aria-hidden="true">
          <div id="itineraire-carte"></div>
        </div>
      </div>
    </div>
    <div class="modal-fiche" id="modal-fiche" role="dialog" aria-modal="true" aria-label="Fiche" aria-hidden="true">
      <div class="modal-fiche-carte">
        <button class="modal-fiche-fermer" id="modal-fiche-fermer" type="button" aria-label="Fermer la fiche">Ã—</button>
        <div class="modal-fiche-contenu maplibregl-popup-content" id="modal-fiche-contenu"></div>
      </div>
    </div>

    <script src="https://unpkg.com/maplibre-gl@5.1.0/dist/maplibre-gl.js"></script>
    <script src="./rss-numeros.js"></script>
    <script src="./code.js"></script>
    <script src="./app.js"></script>
  </body>
</html>
